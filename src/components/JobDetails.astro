---
// component imports
import {Badge} from "./ui/badge";

// library imports
import {formatDatetime} from "../lib/utils";

interface Job {
    title: string;
    company: string;
    location: string;
    startDate: string;
    endDate: string;
    goals: string[];
    currentJob: boolean;
}

const {jobData} = Astro.props;  // Ensure correct typing for the props
const {
    title,
    company,
    location,
    startDate,
    endDate,
    goals,
    currentJob,
} = jobData as Job;

---

<div class="job--details flex flex-col gap-2">
  <h3 class="text-xl font-bold">{title}</h3>
  <div class="flex items-center gap-2">
    <Badge className="bg-primary-light dark:bg-primary-dark w-fit rounded-md whitespace-nowrap	">
      {formatDatetime(startDate)} - {currentJob ? "Present" : formatDatetime(endDate)}
    </Badge>
    <p class="truncate">{company}</p>
    <span class="text-sm font-bold">/</span>
    <p class="truncate">{location}</p>
  </div>

  <ul>
    {goals.map((goal: string) => (
      <li>{goal}</li>
    ))}
  </ul>
</div>


<style>
  .job--details {
    ul {
      list-style: disc;
      padding-inline-start: 20px;
      display: grid;
      gap: 4px;
    }
  }
</style>
